<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>달력만들기</title>
<script type="text/javascript">
//현재 날짜와 현재 달에 1일의 날짜 객체 생성
var date=new Date(); //날짜 객체 생성
var y=date.getFullYear(); //현재 연도
var m=date.getMonth(); //현재 월
var d=date.getDate(); //현재 일
/* 현재 월의 첫 번째 줄 빈칸의 개수를 구하기 위해 현재 월 첫날의 요일 코드 계산 */
var theDate=new Date(y, m, 1);
var theDay=theDate.getDay();
//현재 월의 마지막 날짜 구하기
//1월부터 12월까지 마지막 날짜를 배열로 저장
var last=[31,28,31,30,31,30,31,31,30,31,30,31];
/*현재 연도가 윤년(4년 주기이고 100년 주기는 제외, 또는 400년 주기)일 경우 2월의 마지막 날짜는 29로 설정 */
if(y%4 && y % 100 !=0 || y%400 == 0) 
	lastDate=last[1]=29;
var lastDate=last[m]; //현재 월의 마지막 날짜 계산
/* 현재 월의 달력에 필요한 행의 개수 계산
var row(행의 개수)= Math.ceil( (theDay(빈 칸)+lastDate(월의 전체 일수)) / 7)*/
var row=Math.ceil((theDay+lastDate)/7); //필요한 행수
//달력연도/월 표기 및	달력 테이블 생성
document.write("<h1>"+y+"."+(m+1)+"</h1>");
//문자결합 연산자를 사용해 요일이 나오는 행을 생성
var calendar="<table  border='1'>"; 
calendar+="<tr>";
calendar+="<th>일</th>"; 
calendar+="<th>월</th>"; 
calendar+="<th>화</th>"; 
calendar+="<th>수</th>"; 
calendar+="<th>목</th>"; 
calendar+="<th>금</th>"; 
calendar+="<th>토</th>"; 
calendar+="</tr>";
var dNum=1;
for(var i=1; i<=row; i++){//행 생성 (tr 태그 생성) 
calendar+="<tr>";
for(var k=1; k<=7; k++){//열 생성 (td 태그 생성)
/* 행이 첫 줄이고 현재 월의 첫날의 요일 이전은 모두 빈열로 표기, 날짜가 마지막 날짜보다 크면 빈열로 표기 */
if(i==1 && k<=theDay || dNum>lastDate){
	calendar+="<td> &nbsp; </td>";
}else{ calendar+="<td>"+dNum+"</td>"; dNum++;}
}
 calendar+="<tr>";
}
// 달력 테이블 출력
document.write(calendar);
</script>
</head>

<body>

</body>
</html>


